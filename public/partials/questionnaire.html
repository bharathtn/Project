<div id="page-wrapper" data-ng-controller="QuestionnaireCtrl">
    <div class="container-fluid">
        <!-- Page Heading -->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">
                            Questionnaires
                        </h1>
                <ol class="breadcrumb">
                    <li>
                         <i class="fa fa-home"></i> <a href="#/">Home</a>
                    </li>
                    <li class="active">
                        <i class="fa fa-fw fa-bars"></i> Questionnaires
                    </li>
                </ol>
            </div>
        </div>

        <div class="table-responsive">
            <table class="table table-bordered table-hover">
                <thead>
                    <tr>
                        <th>
                            Questionnaire
                        </th>

                        <th class="text-center">
                            Details
                        </th>
                        <th class="text-center">
                            Delete
                        </th>
                        <th class="text-center">
                            Send
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr pagination-id="questionnaires" dir-paginate-start="questionnaire in questionnaires | itemsPerPage: limit" total-items="total" current-page="page">
                        <td>
                            {{ questionnaire.name }}
                        </td>
                        <td>
                            <button class="btn btn-default center-block" type="button" ng-click="setQID(questionnaire._id)">Details</button>
                        </td>
                        <td>
                            <button class="btn btn-default center-block" type="button" ng-click="delete(questionnaire._id)">Delete</a>
                        </td>
                        <td>
                            <button class="btn btn-default center-block" type="button" ng-click="send(questionnaire._id)">Send To</a>
                        </td>
                    </tr>
                    <tr dir-paginate-end />
                </tbody>
            </table>

            <div ng-show="showReceivers">
                <ul style="list-style: none;" ng-repeat="mailinguser in mailingusers">
                    <li ng-if="mailinguser.name">
                        <button class="btn btn-default center-block" ng-show="showReceivers" type="button" ng-click="sendToSelected(mailinguser._id, mailinguser.name, mailinguser.email)">{{ mailinguser.name }}</button>
                    </li>
                </ul>
            </div>

            <h5>{{ url }}</h5>

            <div class="text-center">
                <dir-pagination-controls pagination-id="questionnaires" template-url="../lib/pagination/dirPagination.tpl.html" on-page-change="pageChanged(newPageNumber)"></dir-pagination-controls>
            </div>
        </div>
        <h5 class="pull-right"><a href="#/createQuestions">Add New Questionnaire</a></h5>
    </div>
</div>
